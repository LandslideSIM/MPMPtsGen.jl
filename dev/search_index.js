var documenterSearchIndex = {"docs":
[{"location":"example/DEM/#DEM","page":"DEM","title":"DEM","text":"","category":"section"},{"location":"example/polyhedron/#Polyhedron","page":"Polyhedron","title":"Polyhedron","text":"","category":"section"},{"location":"example/polyhedron/","page":"Polyhedron","title":"Polyhedron","text":"If your model is not a DEM but rather a more generalized 3D model, we recommend that you first use an STL file to create the 3D model entity. Please note that it is recommended to use MeshLab or other tools to check and ensure that the surface mesh forms a closed 3D entity. ","category":"page"},{"location":"example/polyhedron/","page":"Polyhedron","title":"Polyhedron","text":"With MaterialPointGenerator.jl, we can easily accomplish this task by providing the STL file, specifying the output file (.xyz), and setting the voxel spacing. The basic idea is to voxelize the STL model and fill it with eight material particles. Therefore, the voxel spacing h is recommended to match the grid spacing in MPM simulations. ","category":"page"},{"location":"example/polyhedron/","page":"Polyhedron","title":"Polyhedron","text":"The voxelization of the STL model is handled by trimesh; although we introduced a Python dependency, it is simple and efficient enough that users do not need to manually configure the Python environment. If you want to use your own Python env, please make sure CondaPkg.jl can find your env and install the packages in the CondaPkg.toml.","category":"page"},{"location":"example/polyhedron/","page":"Polyhedron","title":"Polyhedron","text":"Example:","category":"page"},{"location":"example/polyhedron/","page":"Polyhedron","title":"Polyhedron","text":"stl_file = \"/path/to/your/model.stl\"\noutput_file = \"/path/to/your/mode.xyz\" # just give the path even it is not exist\nh = 2.5 # MPM grid size\npolyhedron2particle(stl_file, output_file, h, verbose=true) # verbose==true will show the time profile\npts = readxyz(output_file)","category":"page"},{"location":"workflow/simple_mesh/#Simple-Mesh","page":"Simple Mesh","title":"Simple Mesh","text":"","category":"section"},{"location":"workflow/simple_mesh/","page":"Simple Mesh","title":"Simple Mesh","text":"Here, we consider generating rectangular domain nodes (2D) and cuboidal domain nodes (3D) by controlling the starting range and step size in each direction.","category":"page"},{"location":"workflow/simple_mesh/#2D","page":"Simple Mesh","title":"2D","text":"","category":"section"},{"location":"workflow/simple_mesh/","page":"Simple Mesh","title":"Simple Mesh","text":"Consider a rectangular area where the range in the x-direction is from 0 to 10 and in the  y-direction from 0 to 6. The step size in the x-direction is 1, and in the y-direction, it  is 2. Therefore, we can do:","category":"page"},{"location":"workflow/simple_mesh/","page":"Simple Mesh","title":"Simple Mesh","text":"pts = meshbuilder(0.0 : 1.0 : 10.0, 0.0: 2.0 : 6.0)","category":"page"},{"location":"workflow/simple_mesh/","page":"Simple Mesh","title":"Simple Mesh","text":"This way, we can obtain the results shown in the figure. The variable pts is an array  where the first column contains the x-coordinates of all the nodes, and the second column  contains the corresponding y-coordinates.","category":"page"},{"location":"workflow/simple_mesh/","page":"Simple Mesh","title":"Simple Mesh","text":"(Image: Figure1)","category":"page"},{"location":"workflow/simple_mesh/#3D","page":"Simple Mesh","title":"3D","text":"","category":"section"},{"location":"workflow/simple_mesh/","page":"Simple Mesh","title":"Simple Mesh","text":"pts = meshbuilder(0.0 : 1.0 : 10.0, 0.0: 2.0 : 6.0, 0.0 : 2.0 : 4.0)","category":"page"},{"location":"workflow/simple_mesh/","page":"Simple Mesh","title":"Simple Mesh","text":"MaterialPointGenerator.jl提供了一个非常便利的函数来导出三维点集以方便可视化:","category":"page"},{"location":"workflow/simple_mesh/","page":"Simple Mesh","title":"Simple Mesh","text":"savexyz(output_dir, pts)","category":"page"},{"location":"workflow/simple_mesh/","page":"Simple Mesh","title":"Simple Mesh","text":"其中output_dir您想要导出的路, pts是三维点集，我们可以设置为：","category":"page"},{"location":"workflow/simple_mesh/","page":"Simple Mesh","title":"Simple Mesh","text":"savexyz(joinpath(homedir(), \"tmp.xyz\"), pts)","category":"page"},{"location":"workflow/simple_mesh/","page":"Simple Mesh","title":"Simple Mesh","text":"(Image: Figure2)","category":"page"},{"location":"example/polygon/#Polygon","page":"Polygon","title":"Polygon","text":"","category":"section"},{"location":"workflow/DEM/#DEM","page":"DEM","title":"DEM","text":"","category":"section"},{"location":"workflow/DEM/","page":"DEM","title":"DEM","text":"note: Note\nHere we assume that the DEM file only includes the three-dimensional coordinates of points.  The input format for the DEM is a three-column array, where the first column represents the x-coordinate, the second column represents the corresponding y-coordinate, and the third  column is the z-coordinate.","category":"page"},{"location":"workflow/DEM/#DEM-with-a-flat-bottom-surface","page":"DEM","title":"DEM with a flat bottom surface","text":"","category":"section"},{"location":"workflow/DEM/","page":"DEM","title":"DEM","text":"假设我们有了一个DEM文件，然后想以底面，例如z=0这个平面对这个DEM模型闭合，那么可以做：","category":"page"},{"location":"workflow/DEM/","page":"DEM","title":"DEM","text":"pts = dem2particle(dem, lpz, bottom)","category":"page"},{"location":"workflow/DEM/","page":"DEM","title":"DEM","text":"其中dem是拥有三列的数组，lpz是沿z方向布置物质点时的步长，bottom是一个标量值，表示底平面z的高度。","category":"page"},{"location":"workflow/DEM/","page":"DEM","title":"DEM","text":"pts = dem2particle(dem, 0.1, 0)\nsavexyz(joinpath(homedir(), \"tmp.xyz\"), pts)","category":"page"},{"location":"workflow/DEM/","page":"DEM","title":"DEM","text":"(Image: Figure3)","category":"page"},{"location":"workflow/DEM/#DEM-with-a-given-bottom-surface","page":"DEM","title":"DEM with a given bottom surface","text":"","category":"section"},{"location":"workflow/DEM/","page":"DEM","title":"DEM","text":"如果说用来闭合DEM1的底面并不是一个平面，那么我们可以指定另一个DEM2文件作为用来闭合DEM1的底面。","category":"page"},{"location":"workflow/DEM/","page":"DEM","title":"DEM","text":"pts = dem2particle(dem, lpz, bottom_surf)","category":"page"},{"location":"workflow/DEM/","page":"DEM","title":"DEM","text":"warning: Warning\nDEM2与DEM1应该在x-y平面具有完全相同的坐标。这可以通过rasterizeDEM来实现。","category":"page"},{"location":"workflow/DEM/","page":"DEM","title":"DEM","text":"例如：","category":"page"},{"location":"workflow/DEM/","page":"DEM","title":"DEM","text":"pts = dem2particle(dem, 0.1, bottom_surf)\nsavexyz(joinpath(homedir(), \"tmp.xyz\"), pts)","category":"page"},{"location":"workflow/DEM/","page":"DEM","title":"DEM","text":"(Image: Figure4)","category":"page"},{"location":"workflow/DEM/#DEM-interpolation","page":"DEM","title":"DEM interpolation","text":"","category":"section"},{"location":"workflow/DEM/","page":"DEM","title":"DEM","text":"这里的插值是指DEM中的点集在x-y平面上进行插值，并根据相邻点的z坐标来计算对应的z值。有些时候滑坡的DEM文件可能在x-y平面并不是 一个矩形，因此我们可能需要对形状进行裁剪。","category":"page"},{"location":"workflow/DEM/#DEM为矩形","page":"DEM","title":"DEM为矩形","text":"","category":"section"},{"location":"workflow/DEM/#DEM非矩形","page":"DEM","title":"DEM非矩形","text":"","category":"section"},{"location":"#MaterialPointGenerator","page":"Home","title":"MaterialPointGenerator","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"This package is used for generating structured particles for Material Point Method (MPM) simulation. The current particle generation method using Gmsh modeling may require GPU acceleration. We have provided a backend-agnostic solution that supports switching between NVIDIA (CUDA), AMD (ROCm), Apple (Metal), and Intel (oneAPI). Please follow the documentation step-by-step to reproduce the results.","category":"page"},{"location":"","page":"Home","title":"Home","text":"","category":"page"},{"location":"#Installation","page":"Home","title":"Installation ⚙️","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Just type ] in Julia's  REPL:","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia> ]\n(@1.11) Pkg> add MaterialPointGenerator","category":"page"},{"location":"#Features","page":"Home","title":"Features ✨","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Structured (regular) coordinates\nSupport Gmsh for complicated 2/3D models\nBackend-agnostic functions supports\nParticle generation from a Digital Elevation Model (DEM) file  \nAutomatically interpolate DEM files with support for shape trimming.","category":"page"},{"location":"#Acknowledgement","page":"Home","title":"Acknowledgement 👍","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"This project is sponserd by Risk Group | Université de Lausanne and China Scholarship Council [中国国家留学基金管理委员会].","category":"page"},{"location":"workflow/polyhedron/#Polyhedron","page":"Polyhedron","title":"Polyhedron","text":"","category":"section"},{"location":"workflow/polygon/#Polygon","page":"Polygon","title":"Polygon","text":"","category":"section"}]
}
